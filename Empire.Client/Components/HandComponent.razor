@using Empire.Shared.Models

<div class="hand">
    @foreach (var card in Hand)
    {
        <CardComponent CardId="@card.CardId" OnClick="EventCallback.Factory.Create<int>(this, HandleCardClick)" OnDoubleClick="EventCallback.Factory.Create<int>(this, HandleCardDoubleClick)" />
    }
</div>

@code {
    [Parameter] public List<Card> Hand { get; set; } = new();
    [Parameter] public EventCallback<Card> OnCardSelected { get; set; }

    private async Task HandleCardClick(int cardId)
    {
        var card = Hand.FirstOrDefault(c => c.CardId == cardId);
        if (card != null && OnCardSelected.HasDelegate)
            await OnCardSelected.InvokeAsync(card);
    }

    private async Task HandleCardDoubleClick(int cardId)
    {
        // Optional: double-click handling, if needed
    }
}
