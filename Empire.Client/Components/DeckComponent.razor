@using Microsoft.AspNetCore.Components

<div class="deck" title="Click to draw a card" @onclick="OnDrawClick" style="cursor: @(DeckCount > 0 ? "pointer" : "not-allowed"); opacity: @(DeckCount > 0 ? "1" : "0.5");">
    <img src="@CardBackImage" alt="Deck" class="card-image" onerror="this.src='images/Cards/defaultCardback.png'" />
    <span class="deck-count">@DeckCount</span>
</div>

@code {
    [Parameter] public int DeckCount { get; set; }

    [Parameter] public string CardBackImage { get; set; } = "images/Cards/defaultCardback.png";

    [Parameter] public EventCallback OnDraw { get; set; }

    private async Task OnDrawClick()
    {
        if (DeckCount > 0 && OnDraw.HasDelegate)
            await OnDraw.InvokeAsync();
    }
}
