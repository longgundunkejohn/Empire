@using Empire.Shared.Models
@using Empire.Shared.Models.Enums

<div class="game-container">
    <h3>@PlayerId's Game View</h3>

    <section class="board-area">
        <h4>Your Board</h4>
        @if (PlayerBoard != null && PlayerBoard.Any())
        {
            <div class="card-row">
                @foreach (var card in PlayerBoard)
                {
                    <CardImage CardId="@card.CardId" />
                }
            </div>
        }
        else
        {
            <p>No cards on board.</p>
        }
    </section>

    <section class="hand-area">
        <h4>Your Hand</h4>
        @if (PlayerHand != null && PlayerHand.Any())
        {
            <div class="card-row">
                @foreach (var card in PlayerHand)
                {
                    <CardImage CardId="@card" />
                }
            </div>
        }
        else
        {
            <p>Your hand is empty.</p>
        }
    </section>
</div>

@code {
    [Parameter]
    public GameState GameState { get; set; }

    [Parameter]
    public string PlayerId { get; set; }

    private List<BoardCard> PlayerBoard => GameState.PlayerBoard.GetValueOrDefault(PlayerId) ?? new();
    private List<int> PlayerHand => GameState.PlayerHands.GetValueOrDefault(PlayerId) ?? new();
}
