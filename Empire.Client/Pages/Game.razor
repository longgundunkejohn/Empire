@page "/game/{gameId}/{playerId}"
@inject GameApi GameApi
@inject NavigationManager NavigationManager
@using Empire.Client.Services
@using Empire.Shared.Models
@using Empire.Shared.Models.Enums
@using Microsoft.AspNetCore.SignalR.Client
@inject GameHubService HubService

@if (gameState == null)
{
    <p>Loading game...</p>
}
else
{
    <div class="game-container">
        <!-- Enemy Hand -->
        <div class="hand enemy-hand">
            @foreach (var _ in OpponentHand)
            {
                <img src="images/Cards/cardback.png" class="card-image small" alt="Hidden card" />
            }
        </div>

        <!-- Board (middle section) -->
        <div class="board" @ondragover:preventDefault="true" @ondrop="OnCardDrop">
            @foreach (var boardCard in PlayerBoard)
            {
                var card = GetCardFromDeck(boardCard.CardId);
                if (card != null)
                {
                    <div class="card-slot">
                        <CardImage Card="card" />
                    </div>
                }
            }
        </div>

        <!-- Draw Deck Area -->
        <div class="draw-decks">
            <CardBackImage DeckCount="@CivicDeckCount" CardBackPath="Cardbacks/civicCardback.png" OnDraw="DrawCivic" />
            <CardBackImage DeckCount="@MilitaryDeckCount" CardBackPath="Cardbacks/armyCardback.png" OnDraw="DrawMilitary" />
        </div>

        <!-- Player Hand
